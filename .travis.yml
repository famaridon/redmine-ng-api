sudo: 'required'
language: java
jdk:
  - openjdk8
services:
  - docker
addons:
  sonarcloud:
    organization: "famaridon-github"
    token:
      secure: $SONAR_TOKEN

cache:
  directories:
    - $HOME/.m2

before_install:
  - ./.travis/main.sh

script:
  - echo "export WAIT_DOCKER=30" > .travis/test-configuration.sh
  - ./.travis/build.sh

notifications:
  email: # only receive email when the build status changes (someone broke the build!)
    on_failure: always
    on_success: change
